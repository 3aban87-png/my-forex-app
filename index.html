<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forex Mini App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: Tahoma, sans-serif; background-color: #1a1a1a; color: white; margin: 0; padding: 0; padding-bottom: 70px; }
        .header { background: #2c3e50; padding: 15px; text-align: center; font-weight: bold; position: sticky; top: 0; z-index: 100; }
        .page { display: none; padding: 20px; animation: fadeIn 0.3s; }
        .active-page { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        /* Ø§Ø³ØªØ§ÛŒÙ„ Ù…Ø§Ø´ÛŒÙ† Ø­Ø³Ø§Ø¨ */
        input { width: 100%; padding: 12px; margin: 10px 0; border-radius: 8px; border: 1px solid #444; background: #222; color: white; box-sizing: border-box; }
        button { width: 100%; padding: 15px; background: #3498db; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; }
        
        /* Ù†ÙˆØ§Ø± Ù¾Ø§ÛŒÛŒÙ† */
        .navbar { position: fixed; bottom: 0; width: 100%; background: #2c3e50; display: flex; justify-content: space-around; padding: 10px 0; border-top: 1px solid #34495e; }
        .nav-item { color: #bdc3c7; text-decoration: none; font-size: 11px; text-align: center; flex: 1; border: none; background: none; cursor: pointer; }
        .nav-item.active { color: #3498db; }
        .icon { font-size: 18px; display: block; margin-bottom: 4px; }
    </style>
</head>
<body>

    <div class="header" id="page-title">Ø³ÛŒÚ¯Ù†Ø§Ù„â€ŒÙ‡Ø§</div>

    <div id="signals" class="page active-page">
        <div style="background: #2c3e50; border-left: 5px solid #2ecc71; padding: 15px; border-radius: 8px; margin-bottom: 10px;">
            <div style="display: flex; justify-content: space-between;">
                <strong>XAUUSD (Ø·Ù„Ø§)</strong>
                <span style="color: #2ecc71;">BUY ðŸŸ¢</span>
            </div>
            <p style="font-size: 13px;">ÙˆØ±ÙˆØ¯: 2045 | Ø­Ø¯ Ø³ÙˆØ¯: 2060 | Ø­Ø¯ Ø¶Ø±Ø±: 2038</p>
        </div>
    </div>

    <div id="calc" class="page">
        <h3>ðŸ§® Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø­Ø¬Ù… Ù…Ø¹Ø§Ù…Ù„Ù‡</h3>
        <input type="number" id="balance" placeholder="Ù…ÙˆØ¬ÙˆØ¯ÛŒ (Ø¯Ù„Ø§Ø±)" value="1000">
        <input type="number" id="risk" placeholder="Ø¯Ø±ØµØ¯ Ø±ÛŒØ³Ú©" value="1">
        <input type="number" id="pips" placeholder="Ù…Ù‚Ø¯Ø§Ø± Ø§Ø³ØªØ§Ù¾ (Ù¾ÛŒÙ¾)" value="30">
        <button onclick="calculateLot()">Ù…Ø­Ø§Ø³Ø¨Ù‡</button>
        <div id="result" style="margin-top:20px; text-align:center; font-size:18px; color:#2ecc71;"></div>
    </div>

    <div id="support" class="page">
        <h3>ðŸŽ§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ</h3>
        <p>Ø¯Ø± ØµÙˆØ±Øª Ø¨Ø±ÙˆØ² Ù…Ø´Ú©Ù„ Ø¨Ø§ Ø¢ÛŒØ¯ÛŒ Ø²ÛŒØ± Ø¯Ø± ØªÙ…Ø§Ø³ Ø¨Ø§Ø´ÛŒØ¯:</p>
        <button onclick="window.open('https://t.me/your_admin_id')">Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø¨Ù‡ Ù¾Ø´ØªÛŒØ¨Ø§Ù†</button>
    </div>

    <nav class="navbar">
        <button class="nav-item" onclick="showPage('support', 'Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ')"> <span class="icon">ðŸŽ§</span> Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ </button>
        <button class="nav-item" onclick="showPage('calc', 'Ù…Ø§Ø´ÛŒÙ†â€ŒØ­Ø³Ø§Ø¨')"> <span class="icon">ðŸ§®</span> Ù…Ø§Ø´ÛŒÙ†â€ŒØ­Ø³Ø§Ø¨ </button>
        <button class="nav-item active" onclick="showPage('signals', 'Ø³ÛŒÚ¯Ù†Ø§Ù„â€ŒÙ‡Ø§')"> <span class="icon">ðŸ“ˆ</span> Ø³ÛŒÚ¯Ù†Ø§Ù„â€ŒÙ‡Ø§ </button>
    </nav>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        function showPage(pageId, title) {
            // Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ù‡Ù…Ù‡ ØµÙØ­Ø§Øª
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active-page'));
            // Ù†Ù…Ø§ÛŒØ´ ØµÙØ­Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡
            document.getElementById(pageId).classList.add('active-page');
            // ØªØºÛŒÛŒØ± Ø¹Ù†ÙˆØ§Ù† Ù‡Ø¯Ø±
            document.getElementById('page-title').innerText = title;
            // ØªØºÛŒÛŒØ± ÙˆØ¶Ø¹ÛŒØª Ø¯Ú©Ù…Ù‡ Ù‡Ø§ÛŒ Ù†ÙˆØ§Ø± Ù¾Ø§ÛŒÛŒÙ†
            document.querySelectorAll('.nav-item').forEach(btn => btn.classList.remove('active'));
            event.currentTarget.classList.add('active');
        }

        function calculateLot() {
            const balance = document.getElementById('balance').value;
            const risk = document.getElementById('risk').value;
            const pips = document.getElementById('pips').value;
            const res = (balance * (risk / 100)) / (pips * 10);
            document.getElementById('result').innerText = "Ø­Ø¬Ù… Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ: " + res.toFixed(2) + " Lot";
        }
    </script>
</body>
</html>
